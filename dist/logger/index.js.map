{"version":3,"sources":["../../src/logger/index.js"],"names":["winston","require","env","process","NODE_ENV","loggerTransports","push","transports","Console","level","colorize","json","timestamp","prettyPrint","File","name","filename","logger","Logger","exitOnError","exports","module"],"mappings":";;AAAA;;;AAGA,IAAMA,UAASC,QAAQ,SAAR,CAAf;AACA;;AAEA,IAAMC,MAAMC,QAAQD,GAAR,CAAYE,QAAZ,IAAwB,aAApC;AACA,IAAMC,mBAAmB,EAAzB;;AAEA,IAAIH,QAAQ,aAAZ,EAA2B;AACvBG,qBAAiBC,IAAjB,CAAsB,IAAKN,QAAQO,UAAR,CAAmBC,OAAxB,CAAiC;AACnDC,eAAO,OAD4C;AAEnDC,kBAAU,IAFyC;AAGnDC,cAAM,KAH6C;AAInDC,mBAAW,IAJwC;AAKnDC,qBAAa;AALsC,KAAjC,CAAtB;AAOH,CARD,MAQK;AACDR,qBAAiBC,IAAjB,CAAsB,IAAKN,QAAQO,UAAR,CAAmBO,IAAxB,CAA8B;AAChDC,cAAO,WADyC;AAEhDC,kBAAS,iBAFuC;AAGhDP,eAAM;AAH0C,KAA9B,CAAtB;;AAMAJ,qBAAiBC,IAAjB,CACI,IAAKN,QAAQO,UAAR,CAAmBO,IAAxB,CAA8B;AAC1BC,cAAK,YADqB;AAE1BC,kBAAS,kBAFiB;AAG1BP,eAAM;AAHoB,KAA9B,CADJ;AAQH;;AAED,IAAMQ,SAAS,IAAKjB,QAAQkB,MAAb,CAAqB;AAChCX,gBAAYF,gBADoB;AAEhCc,iBAAa;AAFmB,CAArB,CAAf;;AAKAC,UAAQC,OAAOD,OAAP,GAAeH,MAAvB;AACA","file":"index.js","sourcesContent":["/**\r\n * Created by chen on 17-8-21.\r\n */\r\nconst winston =require('winston');\r\n//import winston from 'winston';\r\n\r\nconst env = process.env.NODE_ENV || 'development';\r\nconst loggerTransports = [];\r\n\r\nif (env === 'development') {\r\n    loggerTransports.push(new (winston.transports.Console)({\r\n        level: 'debug',\r\n        colorize: true,\r\n        json: false,\r\n        timestamp: true,\r\n        prettyPrint: true,\r\n    }));\r\n}else{\r\n    loggerTransports.push(new (winston.transports.File)({\r\n        name : 'info-file',\r\n        filename:'logger-info.log',\r\n        level:'info'\r\n    }));\r\n\r\n    loggerTransports.push(\r\n        new (winston.transports.File)({\r\n            name:'error-file',\r\n            filename:'logger-error.log',\r\n            level:'error'\r\n        })\r\n    );\r\n\r\n}\r\n\r\nconst logger = new (winston.Logger)({\r\n    transports: loggerTransports,\r\n    exitOnError: false,\r\n});\r\n\r\nexports=module.exports=logger;\r\n//export default logger;"]}