{"version":3,"sources":["../../../src/test/servers/data_server.test.js"],"names":["require","db","file","dbNoConnect","expect","Data","describe","before","it","done","recordAlert","id","hid","position","setTimeout","dbInstance","hostID","getMointors","ipcs","equal"],"mappings":";;;;;;;;;;eAA4BA,QAAQ,SAAR,C;IAArBC,E,YAAAA,E;IAAGC,I,YAAAA,I;IAAKC,W,YAAAA,W;;AACf,IAAMC,SAAOJ,QAAQ,MAAR,EAAgBI,MAA7B;AACA,IAAMC,OAAKL,QAAQ,2BAAR,CAAX;;AAEAM,SAAS,SAAT,EAAmB,YAAK;AACpBC,sEAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAEGJ,aAFH;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAP;AAIAK,OAAG,cAAH,EAAmB,UAACC,IAAD,EAAU;AACzBJ,aAAKK,WAAL,CAAiB,EAACC,IAAI,CAAL,EAAQC,KAAK,CAAb,EAAgBC,UAAU,CAA1B,EAAjB;AACAC,mBAAWL,IAAX,EAAgB,IAAhB;AACH,KAHD;AAIH,CATD;AAUAH,SAAS,MAAT,EAAgB,YAAK;AACjB,QAAIS,aAAa,IAAjB;AACA,QAAIC,SAAO,CAAX;AACAT,sEAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAEgBN,IAFhB;;AAAA;AAEHc,kCAFG;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAP;;AAKAP,OAAG,YAAH,6DAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BACGH,KAAKY,WAAL,CAAiBD,MAAjB,EAAwB,GAAxB,CADH;;AAAA;AACRE,4BADQ;;AAEZd,+BAAO,CAACc,IAAR,EAAcC,KAAd,CAAoB,KAApB;;AAFY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAhB;AAIH,CAZD","file":"data_server.test.js","sourcesContent":["const {db,file,dbNoConnect}=require('../init');\r\nconst expect=require('chai').expect;\r\nconst Data=require('../../servers/data_server');\r\n\r\ndescribe('无数据监控测试',()=> {\r\n    before(async () => {\r\n        //打开注释启动数据库取数据\r\n        await dbNoConnect();\r\n    });\r\n    it('存放日志接口,不等待返回', (done) => {\r\n        Data.recordAlert({id: 1, hid: 1, position: 1});\r\n        setTimeout(done,1000)\r\n    });\r\n});\r\ndescribe('监控测试',()=> {\r\n    let dbInstance = null;\r\n    let hostID=1;\r\n    before(async () => {\r\n        //打开注释启动数据库取数据\r\n        dbInstance = await db();\r\n    });\r\n\r\n    it('获取监控位置的摄像头',async ()=>{\r\n        let ipcs=await Data.getMointors(hostID,300);\r\n        expect(!ipcs).equal(false);\r\n    });\r\n});"]}