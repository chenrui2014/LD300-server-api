{"version":3,"sources":["../../../../src/test/live/server/live_server.test.js"],"names":["live","require","factory","fs","http","wOption","flags","encoding","fd","mode","autoClose","server","createServer","listen","describe","dolive","id","done","l","open","on","it","xit"],"mappings":";;AAAA;;;AAGA;AACA,IAAIA,OAAKC,QAAQ,kCAAR,CAAT;AACA,IAAIC,UAAQD,QAAQ,kCAAR,CAAZ;AACA;AACA,IAAIE,KAAGF,QAAQ,IAAR,CAAP;AACA,IAAMG,OAAOH,QAAQ,MAAR,CAAb;AACA,IAAMI,UAAU;AACZC,WAAO,GADK;AAEZC,cAAU,IAFE;AAGZC,QAAI,IAHQ;AAIZC,UAAM,GAJM;AAKZC,eAAW;AALC,CAAhB;;AAQA,IAAIC,SAAOP,KAAKQ,YAAL,EAAX;AACAD,OAAOE,MAAP,CAAc,IAAd;;AAEAC,SAAS,MAAT,EAAgB,YAAI;;AAEhB,aAASC,MAAT,CAAgBC,EAAhB,EAAmBC,IAAnB,EAAwB;AACpB,YAAIC,IAAE,IAAIlB,IAAJ,CAASW,MAAT,EAAgBK,EAAhB,CAAN;AACAE,UAAEC,IAAF;AACAD,UAAEE,EAAF,CAAK,OAAL,EAAa,YAAI;AACbH;AACH,SAFD;AAGH;;AAEDI,OAAG,aAAH,EAAiB,UAACJ,IAAD,EAAQ;AACrBF,eAAO,CAAP,EAASE,IAAT;AACH,KAFD;;AAIAI,OAAG,eAAH,EAAmB,UAACJ,IAAD,EAAQ;AACvBF,eAAO,CAAP,EAASE,IAAT;AACH,KAFD;;AAIAK,QAAI,qBAAJ,EAA0B,UAACL,IAAD,EAAQ;AAC9BF,eAAO,CAAP,EAASE,IAAT;AACH,KAFD;;AAIAI,OAAG,aAAH,EAAiB,UAACJ,IAAD,EAAQ;AACrBF,eAAO,CAAP,EAASE,IAAT;AACH,KAFD;;AAIAI,OAAG,eAAH,EAAmB,UAACJ,IAAD,EAAQ;AACvBF,eAAO,CAAP,EAASE,IAAT;AACH,KAFD;AAGH,CA7BD","file":"live_server.test.js","sourcesContent":["/**\r\n * Created by Luky on 2017/7/28.\r\n */\r\n//let live=require('../app/servers/__live_server');\r\nlet live=require('../../../app/servers/live_server');\r\nlet factory=require('../../../app/servers/ipc_factory');\r\n//let FLVDemuxer=require('../node_modules/flv.js/src/demux/flv-demuxer');\r\nlet fs=require('fs');\r\nconst http = require('http');\r\nconst wOption = {\r\n    flags: 'w',\r\n    encoding: null,\r\n    fd: null,\r\n    mode: 0o666,\r\n    autoClose: true\r\n};\r\n\r\nlet server=http.createServer();\r\nserver.listen(3000);\r\n\r\ndescribe('集成测试',()=>{\r\n\r\n    function dolive(id,done){\r\n        let l=new live(server,id);\r\n        l.open();\r\n        l.on('close',()=>{\r\n            done();\r\n        });\r\n    }\r\n\r\n    it('大华枪机视频sdk测试',(done)=>{\r\n        dolive(1,done);\r\n    });\r\n\r\n    it('大华枪机视频onvif测试',(done)=>{\r\n        dolive(2,done);\r\n    });\r\n\r\n    xit('hopewell枪机视频onvif测试',(done)=>{\r\n        dolive(3,done);\r\n    });\r\n\r\n    it('大华球机视频sdk测试',(done)=>{\r\n        dolive(4,done);\r\n    });\r\n\r\n    it('大华球机视频onvif测试',(done)=>{\r\n        dolive(5,done);\r\n    });\r\n});"]}