{"version":3,"sources":["../../../src/test/dahua/dhnvr.test.js"],"names":["DHNVR","require","jIPC","expect","describe","xit","done","ipc","connect","err","equal","isConnected","disConnect","it","_realPlay","id","console","log","setTimeout","_stopRealPlay"],"mappings":";;AAAA;;;AAGA,IAAMA,QAAMC,QAAQ,8BAAR,CAAZ;AACA,IAAMC,OAAKD,QAAQ,qBAAR,CAAX;AACA,IAAME,SAASF,QAAQ,MAAR,EAAgBE,MAA/B;;AAEAC,SAAS,SAAT,EAAoB,YAAW;AAC3BC,QAAI,SAAJ,EAAc,UAASC,IAAT,EAAc;AACxB,YAAIC,MAAI,IAAIP,KAAJ,CAAUE,IAAV,CAAR;AACAK,YAAIC,OAAJ,CAAY,UAACC,GAAD,EAAO;AACfN,mBAAO,CAACM,GAAR,EAAaC,KAAb,CAAmB,IAAnB;AACAP,mBAAOI,IAAII,WAAX,EAAwBD,KAAxB,CAA8B,IAA9B;AACAH,gBAAIK,UAAJ,CAAeN,IAAf;AACH,SAJD;AAKH,KAPD;AAQAO,OAAG,OAAH,EAAW,UAASP,IAAT,EAAc;AACrB,YAAIC,MAAI,IAAIP,KAAJ,CAAUE,IAAV,CAAR;AACAK,YAAIO,SAAJ,CAAc,UAACL,GAAD,EAAKM,EAAL,CAAO,kBAAP,EAA4B;AACtCZ,mBAAO,CAACM,GAAR,EAAaC,KAAb,CAAmB,IAAnB;AACAM,oBAAQC,GAAR,CAAY,OAAZ;AACH,SAHD;AAIAC,mBAAW,YAAI;AACXX,gBAAIY,aAAJ,CAAkB,UAACV,GAAD,EAAO;AACrBN,uBAAO,CAACM,GAAR,EAAaC,KAAb,CAAmB,IAAnB;AACAH,oBAAIK,UAAJ,CAAeN,IAAf;AACH,aAHD;AAIH,SALD,EAKE,IALF;AAMH,KAZD;AAaH,CAtBD","file":"dhnvr.test.js","sourcesContent":["/**\r\n * Created by Luky on 2017/7/2.\r\n */\r\nconst DHNVR=require('../../app/ipcs/dahua/_dh_nvr');\r\nconst jIPC=require('../data/_dhnvr.json');\r\nconst expect = require('chai').expect;\r\n\r\ndescribe('大华nvr测试', function() {\r\n    xit('nvr连接测试',function(done){\r\n        let ipc=new DHNVR(jIPC);\r\n        ipc.connect((err)=>{\r\n            expect(!err).equal(true);\r\n            expect(ipc.isConnected).equal(true);\r\n            ipc.disConnect(done);\r\n        });\r\n    });\r\n    it('视频流测试',function(done){\r\n        let ipc=new DHNVR(jIPC);\r\n        ipc._realPlay((err,id/*,code,buf,size*/)=>{\r\n            expect(!err).equal(true);\r\n            console.log('接受到数据');\r\n        });\r\n        setTimeout(()=>{\r\n            ipc._stopRealPlay((err)=>{\r\n                expect(!err).equal(true);\r\n                ipc.disConnect(done);\r\n            });\r\n        },2000);\r\n    });\r\n});"]}