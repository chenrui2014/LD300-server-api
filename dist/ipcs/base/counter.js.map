{"version":3,"sources":["../../../src/ipcs/base/counter.js"],"names":["Counter","ref","Math","max","exports","module"],"mappings":";;;;;;AAAA;;;;IAIMA,O;AACF,uBAAa;AAAA;;AACT,aAAKC,GAAL,GAAS,CAAT;AACH;;;;uCACa;AACV,mBAAO,EAAE,KAAKA,GAAd;AACH;;;kCAIQ;AACL,iBAAKA,GAAL,GAASC,KAAKC,GAAL,CAAS,CAAT,EAAW,KAAKF,GAAL,GAAS,CAApB,CAAT;AACA,mBAAO,KAAKA,GAAL,KAAW,CAAlB;AACH;;;4BANgB;AACb,mBAAO,MAAI,KAAKA,GAAhB;AACH;;;4BAMU;AACP,mBAAO,KAAKA,GAAZ;AACH;;;;;;AAILG,UAAQC,OAAOD,OAAP,GAAeJ,OAAvB","file":"counter.js","sourcesContent":["/**\r\n * Created by Luky on 2017/11/08.\r\n */\r\n\r\nclass Counter{\r\n    constructor(){\r\n        this.ref=0;\r\n    }\r\n    addReference(){\r\n        return ++this.ref;\r\n    }\r\n    get inReference(){\r\n        return 0!==this.ref;\r\n    }\r\n    release(){\r\n        this.ref=Math.max(0,this.ref-1);\r\n        return this.ref===0;\r\n    }\r\n\r\n    get count(){\r\n        return this.ref;\r\n    }\r\n\r\n}\r\n\r\nexports=module.exports=Counter;"]}