{"version":3,"sources":["../src/router.js"],"names":["router","prefix","get","find_camera","find_camera_noPage","find_one","post","add_camera","put","edit_camera","delete","delete_camera","find_cameras","find_cameras_noPage","add_cameras","edit_cameras","delete_cameras","find_host","getPort","find_host_noPage","add_host","edit_host","delete_host","find_monitoringArea","find_monitoringArea_noPage","add_monitoringArea","edit_monitoringArea","delete_monitoringArea","find_pp","find_pp_noPage","add_pp","edit_pp","delete_pp","find_perimeterPoint","add_perimeterPoint","edit_perimeterPoint","delete_perimeterPoint","find_preset","add_preset","edit_preset","delete_preset","find_event","add_event","edit_event","delete_event","find_eventVideo","add_eventVideo","edit_eventVideo","delete_eventVideo","find_cameraType","find_cameraType_noPage","add_cameraType","edit_cameraType","delete_cameraType","find_unit","add_unit","edit_unit","delete_unit","find_config","find_config_noPage","add_config","edit_config","delete_config","find_vendor","add_vendor","edit_vendor","delete_vendor","create_user","signIn","module","exports"],"mappings":"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","file":"router.js","sourcesContent":["/**\r\n * Created by chen on 17-8-22.\r\n */\r\n\r\nimport CaremaController from './controllers/cameraController';\r\nimport CaremasController from './controllers/camerasController';\r\nimport HostController from './controllers/hostController';\r\nimport MonitoringAreaController from './controllers/monitoringAreaController';\r\n//import PerimeterController from './controllers/perimeterController';\r\nimport PerimeterPointController from './controllers/perimeterPointController';\r\nimport EventController from './controllers/eventController';\r\nimport UserController from './controllers/userController';\r\nimport PresetController from './controllers/presetController';\r\nimport CameraTypeController from './controllers/cameraTypeController';\r\nimport ConfigController from './controllers/configController';\r\nimport VendorController from './controllers/vendorController';\r\nimport UnitController from './controllers/unitController';\r\nimport PpController from './controllers/ppController';\r\nimport EventVideoController from './controllers/eventVideoController';\r\n//import { isBearerAuthenticated, isLocalAuthenticated } from './lib/auth';\r\n\r\nimport Router from 'koa-router';\r\n\r\nconst router = new Router();\r\nrouter.prefix('/api');\r\n\r\n// // 初始化用户数据\r\n// UserController.seed();\r\n//\r\n// router.use(async (ctx, next) => {\r\n//     try {\r\n//         await next()\r\n//     } catch (error) {\r\n//         console.error(error)\r\n//         ctx.status = ctx.status || 400\r\n//         ctx.body = {\r\n//             code: error.code,\r\n//             message: error.message || error.errmsg || error.msg || 'unknown_error',\r\n//             error\r\n//         }\r\n//     }\r\n// })\r\n\r\n\r\n// // Auth\r\n// router.post('/auth', isLocalAuthenticated(), UserController.signToken)\r\n// router.get('/auth', isBearerAuthenticated(), UserController.getUserByToken)\r\n// module.exports.initialize = function () {\r\n//     router.get('/', async (ctx, next) => {\r\n//         await ctx.render('index.pug');\r\n//     });\r\n// };\r\n//摄像头路由\r\nrouter.get('/camera',CaremaController.find_camera)\r\n    .get('/camera_noPage',CaremaController.find_camera_noPage)\r\n    .get('/camera/:id',CaremaController.find_one)\r\n    .post('/camera',CaremaController.add_camera)\r\n    .put('/camera/:id',CaremaController.edit_camera)\r\n    .delete('/camera/:id',CaremaController.delete_camera);\r\n\r\n//摄像头路由\r\nrouter.get('/cameras',CaremasController.find_cameras)\r\n    .get('/cameras_noPage',CaremasController.find_cameras_noPage)\r\n    .get('/cameras/:id',CaremasController.find_one)\r\n    .post('/cameras',CaremasController.add_cameras)\r\n    .put('/cameras/:id',CaremasController.edit_cameras)\r\n    .delete('/cameras/:id',CaremasController.delete_cameras);\r\n\r\n//主机路由\r\nrouter.get('/hosts', HostController.find_host)\r\n    .get('/ports',HostController.getPort)\r\n    .get('/hosts_noPage',HostController.find_host_noPage)\r\n    .get('/hosts/:id',HostController.find_one)\r\n    .post('/hosts',HostController.add_host)\r\n    .put('/hosts/:id',HostController.edit_host)\r\n    .delete('/hosts/:id',HostController.delete_host);\r\n\r\n//监控区域路由\r\nrouter.get('/monitoringArea', MonitoringAreaController.find_monitoringArea)\r\n    .get('/monitoringArea_noPage',MonitoringAreaController.find_monitoringArea_noPage)\r\n    .get('/monitoringArea/:id',MonitoringAreaController.find_one)\r\n    .post('/monitoringArea',MonitoringAreaController.add_monitoringArea)\r\n    .put('/monitoringArea/:id',MonitoringAreaController.edit_monitoringArea)\r\n    .delete('/monitoringArea/:id',MonitoringAreaController.delete_monitoringArea);\r\n\r\n//周界路由\r\nrouter.get('/pp', PpController.find_pp)\r\n    .get('/pp_noPage',PpController.find_pp_noPage)\r\n    .get('/pp/:id',PpController.find_one)\r\n    .post('/pp',PpController.add_pp)\r\n    .put('/pp/:id',PpController.edit_pp)\r\n    .delete('/pp/:id',PpController.delete_pp);\r\n\r\n//周界路由\r\nrouter.get('/perimeter', PpController.find_pp)\r\n    .get('/perimeter/:id',PpController.find_one)\r\n    .post('/perimeter',PpController.add_pp)\r\n    .put('/perimeter/:id',PpController.edit_pp)\r\n    .delete('/perimeter/:id',PpController.delete_pp);\r\n\r\n//周界点路由\r\nrouter.get('/perimeterPoint', PerimeterPointController.find_perimeterPoint)\r\n    .get('/perimeterPoint/:id',PerimeterPointController.find_one)\r\n    .post('/perimeterPoint',PerimeterPointController.add_perimeterPoint)\r\n    .put('/perimeterPoint/:id',PerimeterPointController.edit_perimeterPoint)\r\n    .delete('/perimeterPoint/:id',PerimeterPointController.delete_perimeterPoint);\r\n\r\n//预置点路由\r\nrouter.get('/preset', PresetController.find_preset)\r\n    .get('/preset/:id',PresetController.find_one)\r\n    .post('/preset',PresetController.add_preset)\r\n    .put('/preset/:id',PresetController.edit_preset)\r\n    .delete('/preset/:id',PresetController.delete_preset);\r\n\r\n//事件路由\r\nrouter.get('/event', EventController.find_event)\r\n    .get('/event/:id',EventController.find_one)\r\n    .post('/event',EventController.add_event)\r\n    .put('/event/:id',EventController.edit_event)\r\n    .delete('/event/:id',EventController.delete_event);\r\n//事件录像路由\r\nrouter.get('/eventVideo', EventVideoController.find_eventVideo)\r\n    .get('/eventVideo/:id',EventVideoController.find_one)\r\n    .post('/eventVideo',EventVideoController.add_eventVideo)\r\n    .put('/eventVideo/:id',EventVideoController.edit_eventVideo)\r\n    .delete('/eventVideo/:id',EventVideoController.delete_eventVideo);\r\n//摄像头类型路由\r\nrouter.get('/cameraType', CameraTypeController.find_cameraType)\r\n    .get('/cameraType_noPage',CameraTypeController.find_cameraType_noPage)\r\n    .get('/cameraType/:id',CameraTypeController.find_one)\r\n    .post('/cameraType',CameraTypeController.add_cameraType)\r\n    .put('/cameraType/:id',CameraTypeController.edit_cameraType)\r\n    .delete('/cameraType/:id',CameraTypeController.delete_cameraType);\r\n\r\n//单位路由\r\nrouter.get('/unit', UnitController.find_unit)\r\n    .get('/unit/:id',UnitController.find_one)\r\n    .post('/unit',UnitController.add_unit)\r\n    .put('/unit/:id',UnitController.edit_unit)\r\n    .delete('/unit/:id',UnitController.delete_unit);\r\n\r\n//系统配置路由\r\nrouter.get('/config', ConfigController.find_config)\r\n    .get('/config_noPage',ConfigController.find_config_noPage)\r\n    .get('/config/:id',ConfigController.find_one)\r\n    .post('/config',ConfigController.add_config)\r\n    .put('/config/:id',ConfigController.edit_config)\r\n    .delete('/config/:id',ConfigController.delete_config);\r\n\r\n//厂商路由\r\nrouter.get('/vendor', VendorController.find_vendor)\r\n    .get('/vendor/:id',VendorController.find_one)\r\n    .post('/vendor',VendorController.add_vendor)\r\n    .put('/vendor/:id',VendorController.edit_vendor)\r\n    .delete('/vendor/:id',VendorController.delete_vendor);\r\n\r\n//用户路由\r\nrouter.post('/user',UserController.create_user)\r\n    .post('/login', UserController.signIn);\r\n\r\nmodule.exports = router;"]}