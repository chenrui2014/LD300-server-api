{"version":3,"sources":["../../src/acc/adts2flv.js"],"names":["AdtsDecoder","require","FLVEncoder","Readable","Adts2Flv","stream","_adtsDecoder","on","data","_flvEncoder","audioTagAVCPackage_AACSpecificConfig_ADST","audioTagAVCPackage_AACRowdata_ES","_in","push","pipe","exports","module"],"mappings":";;;;;;;;;;AAAA;;;;AAIA,IAAMA,cAAYC,QAAQ,oBAAR,CAAlB;AACA,IAAMC,aAAWD,QAAQ,oBAAR,CAAjB;AACA,IAAME,WAAUF,QAAQ,QAAR,EAAkBE,QAAlC;;IAEMC,Q;;;AACF,sBAAYC,MAAZ,EAAmB;AAAA;;AAAA;;AAEf,cAAKC,YAAL,GAAkB,IAAIN,WAAJ,EAAlB;AACA,cAAKM,YAAL,CAAkBC,EAAlB,CAAqB,MAArB,EAA4B,UAACC,IAAD,EAAQ;AAChC,kBAAKC,WAAL,CAAiBC,yCAAjB,CAA2DF,IAA3D;AACH,SAFD;AAGA,cAAKF,YAAL,CAAkBC,EAAlB,CAAqB,MAArB,EAA4B,UAACC,IAAD,EAAQ;AAChC,kBAAKC,WAAL,CAAiBE,gCAAjB,CAAkDH,IAAlD;AACH,SAFD;AAGA,cAAKI,GAAL,GAASP,MAAT;AACA,cAAKI,WAAL,GAAiB,IAAIP,UAAJ,CAAe,KAAf,EAAqB,IAArB,CAAjB;AACA,cAAKO,WAAL,CAAiBF,EAAjB,CAAoB,MAApB,EAA2B,UAACC,IAAD,EAAQ;AAC/B,kBAAKK,IAAL,CAAUL,IAAV;AACH,SAFD;AAGA,cAAKI,GAAL,CAASE,IAAT,CAAc,MAAKR,YAAnB;AAde;AAelB;;;;gCAEM,CAEN;;;;EApBkBH,Q;;AAwBvBY,UAAQC,OAAOD,OAAP,GAAeX,QAAvB","file":"adts2flv.js","sourcesContent":["/**\r\n * Created by Luky on 2017/8/30.\r\n */\r\n\r\nconst AdtsDecoder=require('./acc_adts_decoder');\r\nconst FLVEncoder=require('../flv/flv_encoder');\r\nconst Readable= require('stream').Readable;\r\n\r\nclass Adts2Flv extends Readable{\r\n    constructor(stream){\r\n        super();\r\n        this._adtsDecoder=new AdtsDecoder();\r\n        this._adtsDecoder.on('adts',(data)=>{\r\n            this._flvEncoder.audioTagAVCPackage_AACSpecificConfig_ADST(data);\r\n        });\r\n        this._adtsDecoder.on('data',(data)=>{\r\n            this._flvEncoder.audioTagAVCPackage_AACRowdata_ES(data);\r\n        });\r\n        this._in=stream;\r\n        this._flvEncoder=new FLVEncoder(false,true);\r\n        this._flvEncoder.on('data',(data)=>{\r\n            this.push(data);\r\n        });\r\n        this._in.pipe(this._adtsDecoder);\r\n    }\r\n\r\n    _read(){\r\n\r\n    }\r\n}\r\n\r\n\r\nexports=module.exports=Adts2Flv;"]}